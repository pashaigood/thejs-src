var global=window||global,the={};(function(){var scripts=document.getElementsByTagName("script"),script=scripts[scripts.length-1],path=script.src.split("?")[0];global.URL=script.getAttribute("path")||path.split("/").slice(0,-1).join("/")+"/"})();the.class_factory=function(namespace,class_name){var class_constructor=namespace[class_name][class_name],class_data=namespace[class_name],class_extend=class_data.extend,static_property=class_data.our,prop,length;if(static_property)for(prop in static_property)class_constructor[prop]=static_property[prop];delete class_data.our;delete class_data.extend;delete class_data[class_name];class_constructor.prototype=class_data;class_constructor.prototype.constructor=class_constructor.prototype.our=class_constructor;
if(class_extend){length=class_extend.length;while(length--)the.extend(class_constructor,class_extend[length])}namespace[class_name]=class_constructor};global.namespace=global.ns=function(ns_name,module){var path=ns_name.replace(/\//g,".").split("."),l=path.length,i,parent=global,class_name,class_constructor;for(i=0;i<l-1;i++){parent[path[i]]=parent[path[i]]||{};parent=parent[path[i]]}the.cut;if(module.require!=undefined){var require=module.require;delete module.require;require.push(function(){ns.cns(module,parent,path,l)});include.apply(global,require);return}the.cut;ns.cns(module,parent,path,l)};
ns.cns=function(module,parent,path,length){for(var class_name in module){if(!module.hasOwnProperty(class_name))continue;if(typeof module[class_name]=="object"&&module[class_name][class_name])the.class_factory(module,class_name,path.join("."));the.cut;if(module[class_name].prototype)module[class_name].prototype.log=function(){var temp={};the.extend(temp,this);console.group(path.join(".")+"."+class_name);console.log(temp);console.groupEnd();temp=undefined};the.cut;parent[path[length-1]]=parent[path[length-
1]]||{};parent[path[length-1]][class_name]=module[class_name]}};the.extend=function(Child,Parent,as_object){if(!as_object&&typeof Child==typeof Parent&&typeof Parent=="function"){var proto=Child.prototype,prop,F=function(){};F.prototype=Parent.prototype;Child.prototype=new F;for(prop in proto){if(prop=="Super")continue;Child.prototype[prop]=proto[prop]}Child.prototype.constructor=Child;Child._supers=Child._supers||[];Child._supers.push(Parent);Child.prototype.Super=function(){for(var parent in Child._supers){if(!Child._supers.hasOwnProperty(parent))continue;this.Super=
Child._supers[parent].prototype.Super;Child._supers[parent].apply(this,arguments)}this.Super=function(){}}}else for(var i in Parent)if(Parent[i]&&typeof Parent[i]=="object"){Child[i]={};the.extend(Child[i],Parent[i],true)}else Child[i]=Parent[i]};global.include=the.js=function(){var start_point=Array.prototype.pop.call(arguments);function run(){if(document.removeEventListener)document.removeEventListener("DOMContentLoaded",run,false);else if(document.detachEvent)document.detachEvent("onreadystatechange",run);start_point()}if(document.addEventListener)document.addEventListener("DOMContentLoaded",run,false);else if(document.attachEvent)document.attachEvent("onreadystatechange",run)};the.cut;
global.include=the.js=function(){var args=arguments,cnt=args.length-1,path,sub_requires;if(cnt<0)return;if(typeof args[cnt]=="function"){if(!cnt){args[cnt]();return}include.data.funcs.push(Array.prototype.pop.call(args))}var script=Array.prototype.shift.call(args);if(script){if(include.data.cache[script]){include.apply(global,args);return}include.data.start+=1;include.data.cache[script]=1;create_script(URL+script.replace(/\./ig,"/")+".js",function(){if(args.length)include.apply(global,args);include.data.callback()},
include.data.callback)}};include.data={start:0,ready:0,funcs:[],cache:{}};include.data.callback=function(){include.data.ready+=1;if(include.data.ready==include.data.start){var length=include.data.funcs.length,func;while((length-=1)>-1){func=include.data.funcs.pop();func()}}};the.cut;function Container(){}Container.child_number=1;Container.prototype.children={length:0};Container.prototype._id={};Container.prototype.addChild=function(child){var self=this;if(!child._id)child._id=Container.child_number++;self.children[child._id]=child._id;self.children.length+=1;child.parent=self};Container.prototype.removeChild=function(child){var self=this;if(self.children[child._id]){self.children[child._id].parent=undefined;self.children[child._id]=undefined;self.children.length-=1}};function EventDispatcher(){}
(function(EventDispatcher){var prototype=EventDispatcher.prototype;prototype.on=function(event,handler){var self=this;self._listener=self._listener||{};self._listener[event]=self._listener[event]||[];self._listener[event].push(handler)};prototype.off=function(event){delete self._listener[event]};prototype.play=function(event){var self=this,args=Array.prototype.slice.call(arguments),toReturn=true,tmpReturn;args.shift();if(self._listener!=undefined&&self._listener[event]!=undefined){var l=self._listener[event].length;
while((l-=1)>=0){tmpReturn=self._listener[event][l].apply(self,args);if(typeof tmpReturn=="boolean"&&typeof toReturn=="boolean")toReturn=Boolean(toReturn&tmpReturn);else{toReturn=typeof toReturn=="boolean"?[]:toReturn;toReturn.push(tmpReturn)}}}return toReturn}})(EventDispatcher);function create_script(path,callback,on_error){var head_element=document.getElementsByTagName("head")[0],scr=document.createElement("script"),width_error=width_error||true;scr.type="text/javascript";scr.src=path;the.cut;scr.src=path+"?rand="+Math.round(Math.random()*1E4*1E4);the.cut;scr.onload=scr.onreadystatechange=function(e){if(!scr.readyState||scr.readyState=="loaded"||scr.readyState==="complete"){src=scr.onerror=scr.onload=scr.onreadystatechange=null;callback()}};scr.onerror=on_error;head_element.appendChild(scr)}
;the.cut;function start_point(){function run(e){if(start_point.onse)return;start_point.onse=true;var head_element=document.getElementsByTagName("head")[0],scr=document.createElement("script");scr.type="text/javascript";scr.src=URL+"index.js";head_element.appendChild(scr)}start_point.onse=false;if(document.addEventListener)document.addEventListener("DOMContentLoaded",run,false);else if(document.attachEvent)document.attachEvent("onreadystatechange",run)}start_point();the.cut;
